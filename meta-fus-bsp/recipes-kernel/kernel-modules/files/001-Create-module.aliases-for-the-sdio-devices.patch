From 940359b8f5ed3ded4362446923b167d1e5cdc57f Mon Sep 17 00:00:00 2001
From: Anatol Derksen <derksen@fs-net.de>
Date: Tue, 6 Aug 2024 15:49:48 +0200
Subject: Create module.aliases for the sdio devices

By adding a MODULE_DEVICE_TABLE to moal_sdio_mmc.c, depmod will create
module.aliases for the created modules. This helps autoloading the
driver via udev. NXP expects to load the modules by hand, we at F&S
want to load the modules automatically.

diff --git a/mlinux/moal_sdio_mmc.c b/mlinux/moal_sdio_mmc.c
index 9350484..94d1f99 100644
--- a/mlinux/moal_sdio_mmc.c
+++ b/mlinux/moal_sdio_mmc.c
@@ -153,6 +153,8 @@ static const struct sdio_device_id wlan_ids[] = {
 	{},
 };
 
+MODULE_DEVICE_TABLE(sdio, wlan_ids);
+
 int woal_sdio_probe(struct sdio_func *func, const struct sdio_device_id *id);
 void woal_sdio_remove(struct sdio_func *func);
 static void woal_sdiommc_work(struct work_struct *work);
